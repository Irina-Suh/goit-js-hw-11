{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\nimport SimpleLightbox from \"simplelightbox\";\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n export const gallery = document.querySelector('.gallery');\n     const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n    });\n\n \nexport function ShowGallery(images){     \n gallery.innerHTML = '';\n    const markup = images.map(image => `\n    <li class=\"gallery-item\">\n    <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n      \n        <img class=\"li-img\"\n        src=\"${image.webformatURL}\"\n             alt=\"${image.tags}\" />\n        <div class=\"info\">\n          <p> Likes: <br>${image.likes}</br></p>\n          <p> Views: <br>${image.views}</br></p>\n          <p>Comments: <br>${image.comments}</br></p>\n          <p>Downloads: <br>${image.downloads}</br></p>\n        </div>\n    </a>\n     </li>\n  `).join('');\n \n  gallery.insertAdjacentHTML('afterbegin', markup);\n\n  lightbox.refresh();\n\n}\n","// //key (required) \tstr \tYour API key: 48860281-d74be350dbe4d701146d01f08\n\n\nimport axios from 'axios';\n\nconst API_KEY = '48860281-d74be350dbe4d701146d01f08'; \n// const baseUrl = \"https://pixabay.com\";\n// const endPoint = \"/api\";\n\nexport function searchImg(searchName) {\n \n  const params = new URLSearchParams({\n \n\n      key: API_KEY,\n      q: searchName,\n        image_type: 'photo',\n        orientation: 'horizontal',\n    safesearch: 'true',\n         per_page: 10,\n\n  });\n  const url = `https://pixabay.com/api?${params}`;\n \n  return  axios.get(url)\n\n}\n\n\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { ShowGallery , gallery } from \"./js/render-functions\"; \nimport { searchImg } from \"./js/pixabay-api\";\n\n const form = document.querySelector('.js-img-form');\nconst input = document.querySelector('.searchInput');\nconst waitMsg = document.querySelector('.wait-msg');\n\n\nform.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\ngallery.innerHTML = '';\n\n  let searchName = input.value.trim();\n  \n  if (!searchName) {\n     \n      //  gallery.innerHTML = '';\n    iziToast.error ({\n      position: \"topRight\",\n      title: 'Error',\n      message: 'Input search string'\n    });\n   \n  return\n  }\n\n  waitMsg.innerHTML = '\"Wait, the image is loaded\" <span class=\"loader\"></span>'\n  // gallery.innerHTML = '';\n  searchImg (searchName)\n    .then(response => {\n      if (response.data.hits.length === 0) {\n      \n        gallery.innerHTML = '';\n        iziToast.error ({\n          close: `true`,\n          position: \"topRight\",\n          title: 'Error',\n          message: 'Sorry, there are no images matching your search query. Please try again!'\n        });\n        form.reset();\n       \n      } else {\n     //   gallery.innerHTML = '';   \n      ShowGallery (response.data.hits);\n    }\n    waitMsg.textContent = \"\";\n  \n  })\n\n    .catch(error => {\n       form.reset();\n       \n      waitMsg.textContent = 'Ups ...';\n      console.log(error);\n     //  gallery.innerHTML = '';\n      form.reset();\n    \n    })\n    .finally(() => { \n   form.reset();   \n        });\n\n});"],"names":["gallery","lightbox","SimpleLightbox","ShowGallery","images","markup","image","API_KEY","searchImg","searchName","url","axios","form","input","waitMsg","e","iziToast","response","error"],"mappings":"owBAIQ,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC9CC,EAAW,IAAIC,EAAe,aAAc,CAC/C,aAAc,MACd,aAAc,GACtB,CAAK,EAGE,SAASC,EAAYC,EAAO,CAClCJ,EAAQ,UAAY,GACjB,MAAMK,EAASD,EAAO,IAAIE,GAAS;AAAA;AAAA,eAExBA,EAAM,aAAa;AAAA;AAAA;AAAA,eAGnBA,EAAM,YAAY;AAAA,oBACbA,EAAM,IAAI;AAAA;AAAA,2BAEHA,EAAM,KAAK;AAAA,2BACXA,EAAM,KAAK;AAAA,6BACTA,EAAM,QAAQ;AAAA,8BACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAI1C,EAAE,KAAK,EAAE,EAEVN,EAAQ,mBAAmB,aAAcK,CAAM,EAE/CJ,EAAS,QAAO,CAElB,CC7BA,MAAMM,EAAU,qCAIT,SAASC,EAAUC,EAAY,CAapC,MAAMC,EAAM,2BAXG,IAAI,gBAAgB,CAG/B,IAAKH,EACL,EAAGE,EACD,WAAY,QACZ,YAAa,aACjB,WAAY,OACP,SAAU,EAEnB,CAAG,CAC4C,GAE7C,OAAQE,EAAM,IAAID,CAAG,CAEvB,CCpBC,MAAME,EAAO,SAAS,cAAc,cAAc,EAC7CC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAU,SAAS,cAAc,WAAW,EAGlDF,EAAK,iBAAiB,SAAWG,GAAM,CACrCA,EAAE,eAAc,EAClBf,EAAQ,UAAY,GAElB,IAAIS,EAAaI,EAAM,MAAM,KAAI,EAEjC,GAAI,CAACJ,EAAY,CAGfO,EAAS,MAAO,CACd,SAAU,WACV,MAAO,QACP,QAAS,qBACf,CAAK,EAEH,MACC,CAEDF,EAAQ,UAAY,2DAEpBN,EAAWC,CAAU,EAClB,KAAKQ,GAAY,CACZA,EAAS,KAAK,KAAK,SAAW,GAEhCjB,EAAQ,UAAY,GACpBgB,EAAS,MAAO,CACd,MAAO,OACP,SAAU,WACV,MAAO,QACP,QAAS,0EACnB,CAAS,EACDJ,EAAK,MAAK,GAIZT,EAAac,EAAS,KAAK,IAAI,EAEjCH,EAAQ,YAAc,EAE1B,CAAG,EAEE,MAAMI,GAAS,CACbN,EAAK,MAAK,EAEXE,EAAQ,YAAc,UACtB,QAAQ,IAAII,CAAK,EAEjBN,EAAK,MAAK,CAEhB,CAAK,EACA,QAAQ,IAAM,CAChBA,EAAK,MAAK,CACb,CAAS,CAET,CAAC"}